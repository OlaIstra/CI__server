{
    "swagger": "2.0",
    "info": {
        "description": "This is a CI server.",
        "version": "1.0.0",
        "title": "CI server",
        "contact": {
            "email": "elhazne@gmail.com"
        }
    },
    "paths": {
        "/api/settings": {
            "get": {
                "tags": ["settings"],
                "summary": "Get current settings",
                "description": "Get current settings",
                "operationId": "getSettings",
                "consumes": ["application/json", "application/xml"],
                "produces": ["application/xml", "application/json"],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "type": "object",
                            "items": {
                                "$ref": "#/definitions/Settings"
                            }
                        }
                    },
                    "400": {
                        "description": "Cannot get current settings"
                    }
                }
            },
            "post": {
                "tags": ["settings"],
                "summary": "Set new settings",
                "description": "Set new settings",
                "operationId": "postSettings",
                "consumes": ["application/json", "application/xml"],
                "produces": ["application/xml", "application/json"],
                "parameters": [
                    {
                        "name": "userName",
                        "in": "formData",
                        "description": "User name",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "repoName",
                        "in": "formData",
                        "description": "Name of repo",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "buildCommand",
                        "in": "formData",
                        "description": "Command npm run ---",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "mainBranch",
                        "in": "formData",
                        "description": "Name of the main branch",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "period",
                        "in": "formData",
                        "description": "Period",
                        "required": true,
                        "type": "number"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "type": "object",
                            "items": {
                                "$ref": "#/definitions/Settings"
                            }
                        }
                    },
                    "400": {
                        "description": "Add description"
                    },
                    "404": {
                        "description": "Add description"
                    },
                    "405": {
                        "description": "Add description"
                    }
                }
            }
        },
        "/api/builds": {
            "get": {
                "tags": ["builds"],
                "summary": "Get list of builds",
                "description": "Get list of builds",
                "operationId": "getBuilds",
                "consumes": ["application/json", "application/xml"],
                "produces": ["application/xml", "application/json"],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/Build"
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid status value"
                    }
                }
            },
            "post": {
                "tags": ["builds"],
                "summary": "Save build",
                "description": "Save build",
                "operationId": "postBuilds",
                "consumes": ["application/json", "application/xml"],
                "produces": ["application/xml", "application/json"],
                "parameters": [
                    {
                        "name": "commitHash",
                        "in": "formData",
                        "description": "Commit hash",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "type": "object",
                            "items": {
                                "$ref": "#/definitions/Build"
                            }
                        }
                    },
                    "400": {
                        "description": "Add description"
                    },
                    "404": {
                        "description": "Add description"
                    },
                    "405": {
                        "description": "Add description"
                    }
                }
            },
            "delete": {
                "tags": ["builds"],
                "summary": "Delete build",
                "description": "",
                "operationId": "deleteBuilds",
                "produces": ["application/xml", "application/json"],
                "parameters": []
            }
        },
        "/api/builds/{id}": {
            "get": {
                "tags": ["builds"],
                "summary": "Get build details",
                "description": "Get details of build",
                "operationId": "getBuildDetails",
                "produces": ["application/xml", "application/json"],
                "parameters": [
                    {
                        "id": "string",
                        "description": "ID of build",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "type": "object",
                            "items": {
                                "$ref": "#/definitions/getBuildDetails"
                            }
                        }
                    },
                    "404": {
                        "description": "Build not found"
                    }
                }
            }
        },
        "/api/builds/{id}/logs": {
            "get": {
                "tags": ["builds"],
                "summary": "Get logs of build",
                "description": "Get logs of build",
                "operationId": "getBuildLogs",
                "produces": ["application/xml", "application/json"],
                "parameters": [
                    {
                        "id": "string",
                        "description": "ID of build",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "successful operation",
                        "schema": {
                            "$ref": "#/definitions/getBuildLogs"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "Build": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "integer",
                    "format": "int64"
                },
                "name": {
                    "type": "string"
                }
            },
            "xml": {
                "name": "Build"
            }
        },
        "Settings": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "integer",
                    "format": "int64"
                },
                "userName": {
                    "type": "string"
                },
                "repoName": {
                    "type": "string"
                },
                "buildCommand": {
                    "type": "string"
                },
                "mainBranch": {
                    "type": "string"
                },
                "timePeriod": {
                    "type": "number"
                }
            },
            "xml": {
                "name": "Settings"
            }
        }
    },
    "externalDocs": {
        "description": "Find out more about Swagger",
        "url": "http://swagger.io"
    }
}
